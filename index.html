<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Will You Be Mine? üåπ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800;900&family=Poppins:wght@300;400;500;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      width: 100%;
      margin: 0;
      padding: 0;
    }

    * {
      font-family: 'Poppins', sans-serif;
    }

    .script-font {
      font-family: 'Great Vibes', cursive;
    }

    .elegant-font {
      font-family: 'Playfair Display', serif;
    }

    #app {
      width: 100%;
      height: 100%;
      overflow: hidden;
    }

    .page {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
    }

    .page.active {
      opacity: 1;
      pointer-events: all;
    }

    /* Background */
    .stars-bg {
      position: fixed;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: 0;
      pointer-events: none;
    }

    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s ease-in-out infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }

    .floating-particle {
      position: absolute;
      opacity: 0.5;
      animation: float 20s linear infinite;
    }

    @keyframes float {
      0% {
        transform: translateY(100%) translateX(0);
        opacity: 0;
      }
      10% {
        opacity: 0.6;
      }
      90% {
        opacity: 0.6;
      }
      100% {
        transform: translateY(-100%) translateX(50px);
        opacity: 0;
      }
    }

    /* REALISTIC ROSE SVG */
    .rose-canvas {
      filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.5));
      animation: roseGrow 3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      opacity: 0;
    }

    @keyframes roseGrow {
      0% {
        transform: scale(0) rotate(-45deg);
        opacity: 0;
      }
      100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }
    }

    .petal {
      animation: petalUnfold 2.5s ease-out forwards;
      transform-origin: center;
      opacity: 0;
    }

    @keyframes petalUnfold {
      0% {
        opacity: 0;
        transform: scale(0.3) translateY(10px);
      }
      100% {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    .petal-1 { animation-delay: 0.3s; }
    .petal-2 { animation-delay: 0.5s; }
    .petal-3 { animation-delay: 0.7s; }
    .petal-4 { animation-delay: 0.9s; }
    .petal-5 { animation-delay: 1.1s; }
    .petal-6 { animation-delay: 1.3s; }
    .petal-7 { animation-delay: 1.5s; }
    .petal-8 { animation-delay: 1.7s; }
    .petal-9 { animation-delay: 1.9s; }
    .petal-10 { animation-delay: 2.1s; }

    .stem {
      animation: stemGrow 2s ease-out forwards;
      transform-origin: bottom;
      opacity: 0;
    }

    @keyframes stemGrow {
      0% {
        opacity: 0;
        transform: scaleY(0);
      }
      100% {
        opacity: 1;
        transform: scaleY(1);
      }
    }

    .leaf {
      animation: leafReveal 1.5s ease-out forwards;
      opacity: 0;
    }

    .leaf-left {
      animation-delay: 2.3s;
    }

    .leaf-right {
      animation-delay: 2.5s;
    }

    @keyframes leafReveal {
      0% {
        opacity: 0;
        transform: scale(0);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* Page 1 - Gradient Text */
    .gradient-text {
      background: linear-gradient(135deg, #FF1744 0%, #FF4081 25%, #E91E63 50%, #FF4081 75%, #FF1744 100%);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradientFlow 8s ease infinite;
    }

    @keyframes gradientFlow {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .glow-text {
      text-shadow: 0 0 20px rgba(255, 23, 68, 0.6), 0 0 40px rgba(255, 23, 68, 0.3);
      animation: glowPulse 2s ease-in-out infinite;
    }

    @keyframes glowPulse {
      0%, 100% { text-shadow: 0 0 20px rgba(255, 23, 68, 0.6), 0 0 40px rgba(255, 23, 68, 0.3); }
      50% { text-shadow: 0 0 30px rgba(255, 23, 68, 0.8), 0 0 60px rgba(255, 23, 68, 0.5); }
    }

    /* Buttons - Enhanced */
    .btn-yes {
      position: relative;
      padding: 16px 48px;
      font-size: 18px;
      font-weight: 700;
      border: 2px solid transparent;
      border-radius: 50px;
      cursor: pointer;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      background: linear-gradient(135deg, #FF1744 0%, #FF4081 100%);
      color: white;
      box-shadow: 0 10px 30px rgba(255, 23, 68, 0.4);
      animation: btnYesEnter 0.8s ease-out 3.5s both;
    }

    @keyframes btnYesEnter {
      0% {
        opacity: 0;
        transform: translateY(20px) scale(0.8);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .btn-yes::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s;
    }

    .btn-yes:hover::before {
      left: 100%;
    }

    .btn-yes:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 20px 50px rgba(255, 23, 68, 0.6);
    }

    .btn-yes:active {
      transform: translateY(-2px) scale(0.98);
    }

    .btn-no {
      position: absolute;
      padding: 16px 48px;
      font-size: 18px;
      font-weight: 700;
      border: 2px solid rgba(255, 255, 255, 0.5);
      border-radius: 50px;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      transition: all 0.15s ease-out;
      backdrop-filter: blur(10px);
      animation: btnNoEnter 0.8s ease-out 3.8s both;
    }

    @keyframes btnNoEnter {
      0% {
        opacity: 0;
        transform: translateY(20px) scale(0.8);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .btn-no:hover {
      background: rgba(255, 255, 255, 0.15);
      border-color: rgba(255, 255, 255, 0.8);
      box-shadow: 0 12px 35px rgba(0, 0, 0, 0.4);
    }

    .btn-container {
      position: relative;
      width: 100%;
      max-width: 500px;
      height: 180px;
      margin: 0 auto;
    }

    /* Confetti */
    .confetti {
      position: fixed;
      width: 12px;
      height: 12px;
      pointer-events: none;
      z-index: 1000;
    }

    .confetti-piece {
      width: 100%;
      height: 100%;
      animation: confettiFall 4s ease-in forwards;
    }

    @keyframes confettiFall {
      0% {
        transform: translateY(-100%) rotateZ(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotateZ(720deg);
        opacity: 0;
      }
    }

    /* Success animations */
    .heart-pulse {
      animation: heartPulse 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) infinite;
    }

    @keyframes heartPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.25); }
    }

    .bounce-text {
      animation: bounceText 1s ease-in-out infinite;
    }

    @keyframes bounceText {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .title-enter {
      animation: titleEnter 1s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      opacity: 0;
    }

    @keyframes titleEnter {
      0% {
        opacity: 0;
        transform: translateY(-30px) scale(0.9);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    /* Mobile responsive */
    @media (max-width: 768px) {
      .elegant-font {
        font-size: 2rem;
      }

      .script-font {
        font-size: 2.5rem;
      }

      .btn-yes, .btn-no {
        padding: 14px 36px;
        font-size: 16px;
      }

      .btn-container {
        height: 160px;
      }
    }

    @media (max-width: 480px) {
      .elegant-font {
        font-size: 1.75rem;
      }

      .script-font {
        font-size: 2rem;
      }

      .btn-yes, .btn-no {
        padding: 12px 28px;
        font-size: 15px;
      }

      .btn-container {
        height: 150px;
      }

      .page {
        padding: 20px;
      }
    }

    /* Footer */
    .footer-text {
      position: absolute;
      bottom: 20px;
      left: 0;
      right: 0;
      text-align: center;
      z-index: 10;
      font-size: 14px;
    }

    .heart-beat {
      display: inline-block;
      animation: heartBeat 1s ease-in-out infinite;
    }

    @keyframes heartBeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.3); }
    }

    /* Love message */
    .love-message-box {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 2px solid rgba(255, 23, 68, 0.3);
      border-radius: 30px;
      padding: 40px 30px;
      animation: messageAppear 0.8s ease-out 4.5s both;
    }

    @keyframes messageAppear {
      0% {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    /* Content wrapper */
    .content-wrapper {
      position: relative;
      z-index: 10;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      width: 100%;
    }

    /* Smooth background gradient */
    .bg-gradient-dark {
      background: linear-gradient(135deg, #0F0A2E 0%, #16213E 25%, #1a0a0a 50%, #2d0a0a 75%, #1a1a1a 100%);
      background-size: 400% 400%;
      animation: bgShift 15s ease infinite;
    }

    @keyframes bgShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Question card */
    .question-card {
      background: linear-gradient(135deg, rgba(255, 23, 68, 0.1) 0%, rgba(233, 30, 99, 0.1) 100%);
      backdrop-filter: blur(30px);
      border: 2px solid rgba(255, 23, 68, 0.3);
      border-radius: 40px;
      padding: 40px 30px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4), inset 0 1px 1px rgba(255, 255, 255, 0.1);
      animation: cardFloat 3s ease-in-out infinite;
      max-width: 95%;
    }

    @keyframes cardFloat {
      0%, 100% { transform: translateY(0) rotateX(0deg); }
      50% { transform: translateY(-10px) rotateX(1deg); }
    }

    /* Success container */
    .success-container {
      text-align: center;
      animation: successEnter 0.8s ease-out forwards;
    }

    @keyframes successEnter {
      0% {
        opacity: 0;
        transform: scale(0.8) rotateX(20deg);
      }
      100% {
        opacity: 1;
        transform: scale(1) rotateX(0deg);
      }
    }

    /* Heart orbit */
    .heart-orbit {
      position: relative;
      width: 200px;
      height: 200px;
      margin: 30px auto;
    }

    .orbit-heart {
      position: absolute;
      width: 30px;
      height: 30px;
      animation: orbit 8s linear infinite;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    @keyframes orbit {
      0% {
        transform: rotate(0deg) translateX(80px) rotate(0deg);
      }
      100% {
        transform: rotate(360deg) translateX(80px) rotate(-360deg);
      }
    }

    .orbit-heart:nth-child(1) { animation-delay: 0s; }
    .orbit-heart:nth-child(2) { animation-delay: -2s; }
    .orbit-heart:nth-child(3) { animation-delay: -4s; }
    .orbit-heart:nth-child(4) { animation-delay: -6s; }

    /* Mobile popup animation */
    .animate-bounce-slow {
      animation: bounceSlow 2s ease-in-out infinite;
    }

    @keyframes bounceSlow {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }

    #mobilePopup.hidden {
      display: none;
    }

    #mobilePopup:not(.hidden) {
      animation: popupFadeIn 0.5s ease-out;
    }

    @keyframes popupFadeIn {
      0% {
        opacity: 0;
        transform: scale(0.8);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }
  </style>
</head>
<body class="h-full w-full overflow-hidden">
  <div id="app" class="bg-gradient-dark">
    <!-- Mobile Popup -->
    <div id="mobilePopup" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden">
      <div class="bg-gradient-to-br from-pink-900 to-red-900 rounded-3xl p-8 max-w-sm w-full text-center border-2 border-pink-400 shadow-2xl animate-bounce-slow">
        <div class="text-5xl mb-4">üíª</div>
        <h2 class="elegant-font text-3xl text-pink-200 mb-4">Better Experience</h2>
        <p class="text-pink-100 mb-6 leading-relaxed text-lg">
          This romantic proposal deserves a bigger screen! 
          <br/><br/>
          <span class="text-pink-300 font-semibold">Open on your laptop for the full magic ‚ú®</span>
        </p>
        <button id="continueAnyway" class="btn-yes w-full">
          Continue on Mobile üì±
        </button>
      </div>
    </div>

    <!-- Starfield Background -->
    <div class="stars-bg" id="starsContainer"></div>

    <!-- PAGE 1: ROSE BLOOM -->
    <div id="page1" class="page active">
      <div class="content-wrapper px-4 sm:px-6 pb-24 sm:pb-20">
        <div class="text-center mb-4 sm:mb-6">
          <h1 class="elegant-font text-3xl sm:text-4xl md:text-5xl text-pink-300 title-enter" style="animation-delay: 0.3s;">
            Will You Be Mine?
          </h1>
          <p id="subtitleText" class="script-font text-xl sm:text-2xl md:text-3xl gradient-text title-enter mt-2 sm:mt-3" style="animation-delay: 0.6s;">
            Happy Rose Day üåπ
          </p>
        </div>

        <!-- REALISTIC ROSE -->
        <div class="flex justify-center my-6 sm:my-8">
          <svg class="rose-canvas" width="240" height="300" viewBox="0 0 280 400" xmlns="http://www.w3.org/2000/svg">
            <!-- Stem -->
            <path class="stem" d="M140 250 Q135 280 130 320 Q128 340 125 360" stroke="#1B5E20" stroke-width="4" fill="none" stroke-linecap="round"/>
            
            <!-- Left Leaf -->
            <ellipse class="leaf leaf-left" cx="110" cy="300" rx="25" ry="40" fill="#2E7D32" opacity="0.9" transform="rotate(-45 110 300)"/>
            <path class="leaf leaf-left" d="M110 260 Q100 290 105 320" stroke="#1B5E20" stroke-width="1.5" fill="none" opacity="0.7"/>
            
            <!-- Right Leaf -->
            <ellipse class="leaf leaf-right" cx="170" cy="310" rx="25" ry="40" fill="#2E7D32" opacity="0.9" transform="rotate(45 170 310)"/>
            <path class="leaf leaf-right" d="M170 270 Q180 300 175 330" stroke="#1B5E20" stroke-width="1.5" fill="none" opacity="0.7"/>

            <!-- Rose Petals - Outer Layer (Large) -->
            <ellipse class="petal petal-1" cx="140" cy="80" rx="35" ry="55" fill="#C41E3A" opacity="0.95" transform="rotate(0 140 80)"/>
            <ellipse class="petal petal-2" cx="180" cy="100" rx="35" ry="55" fill="#D32F2F" opacity="0.9" transform="rotate(60 140 80)"/>
            <ellipse class="petal petal-3" cx="100" cy="100" rx="35" ry="55" fill="#D32F2F" opacity="0.9" transform="rotate(-60 140 80)"/>
            <ellipse class="petal petal-4" cx="185" cy="140" rx="32" ry="50" fill="#E53935" opacity="0.85" transform="rotate(120 140 80)"/>
            <ellipse class="petal petal-5" cx="95" cy="140" rx="32" ry="50" fill="#E53935" opacity="0.85" transform="rotate(-120 140 80)"/>

            <!-- Rose Petals - Middle Layer -->
            <ellipse class="petal petal-6" cx="155" cy="110" rx="28" ry="45" fill="#B71C1C" opacity="0.9" transform="rotate(30 140 100)"/>
            <ellipse class="petal petal-7" cx="125" cy="110" rx="28" ry="45" fill="#B71C1C" opacity="0.9" transform="rotate(-30 140 100)"/>
            <ellipse class="petal petal-8" cx="165" cy="125" rx="26" ry="42" fill="#C41E3A" opacity="0.92" transform="rotate(90 140 100)"/>

            <!-- Rose Petals - Inner Layer (Small) -->
            <ellipse class="petal petal-9" cx="140" cy="115" rx="24" ry="40" fill="#A01A1A" opacity="0.95" transform="rotate(45 140 110)"/>
            <ellipse class="petal petal-10" cx="140" cy="125" rx="22" ry="35" fill="#8B0000" opacity="0.98"/>

            <!-- Rose Center -->
            <circle cx="140" cy="125" r="18" fill="#5D0000" opacity="0.9"/>
            <circle cx="140" cy="125" r="12" fill="#3D0000" opacity="0.8"/>

            <!-- Shine/Highlight -->
            <ellipse cx="130" cy="70" rx="8" ry="15" fill="white" opacity="0.2"/>
            <ellipse cx="145" cy="115" rx="6" ry="8" fill="white" opacity="0.15"/>
          </svg>
        </div>

        <!-- Message Box -->
        <div class="love-message-box max-w-md">
          <p class="text-pink-100 text-base sm:text-lg leading-relaxed font-light">
            For someone who makes my heart skip a beat... üíì
            <br/><br/>
            <span class="text-pink-300 font-semibold">You are my everything</span>
          </p>
        </div>

        <!-- Next Button -->
        <button id="nextBtn" class="btn-yes mt-6 sm:mt-8 relative z-20">
          üíå Click Here for Your Reply
        </button>
      </div>

      <!-- Footer -->
      <div class="footer-text">
        <p class="text-pink-300/60 text-xs sm:text-sm">
          Made with <span class="heart-beat text-red-500">‚ù§Ô∏è</span> by <span id="creatorName" class="font-semibold text-pink-200">Ankit Kumar</span>
        </p>
      </div>
    </div>

    <!-- PAGE 2: QUESTION -->
    <div id="page2" class="page">
      <div class="content-wrapper px-4 sm:px-6">
        <div class="question-card">
          <div class="mb-6 sm:mb-8">
            <div class="text-5xl sm:text-6xl mb-4">ÔøΩÔøΩÔøΩÔøΩ</div>
            <h2 class="elegant-font text-3xl sm:text-4xl md:text-5xl text-pink-200 mb-3">
              Will You Accept?
            </h2>
            <p class="script-font text-xl sm:text-2xl text-pink-100/80">
              My heart is yours forever...
            </p>
          </div>

          <!-- Decorative hearts -->
          <div class="flex justify-center gap-4 sm:gap-6 mb-8 text-3xl sm:text-4xl">
            <span class="animate-bounce" style="animation-delay: 0s;">üíï</span>
            <span class="animate-bounce" style="animation-delay: 0.1s;">üíñ</span>
            <span class="animate-bounce" style="animation-delay: 0.2s;">üíó</span>
          </div>

          <!-- Buttons Container -->
          <form id="loveForm" action="https://formspree.io/f/xwvnejrj" method="POST" style="display: contents;">
            <input type="hidden" id="userNameInput" name="name" value="Unknown">
<input type="hidden" name="Response" value="She said YES! üíò">

        <div class="btn-container" style="position: relative; width: 100%; max-width: 400px; height: 150px; display: flex; justify-content: center; align-items: center;">
            
            <button type="submit" id="yesBtn" class="btn-yes" style="position: relative; left: 20px; top: 20px; padding: 15px 30px; font-size: 18px; cursor: pointer; border-radius: 50px; border: none; background-color: #ff4d6d; color: white; box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4); z-index: 20;">
                Yes! üíò I'm All Yours
            </button>

            <button type="button" id="noBtn" class="btn-no" style="position: absolute; left: 100px; top: -80px; padding: 15px 30px; font-size: 18px; cursor: pointer; border-radius: 50px; border: none; background-color: #888; color: white; transition: 0.1s; z-index: 20;">
                Not Sure Yet
            </button>
        </div>
    </form>

          <p class="text-pink-200/60 text-sm sm:text-base mt-6 italic">
            üí´ The right answer is obvious...
          </p>
        </div>
      </div>

      <!-- Footer -->
      <div class="footer-text">
        <p class="text-pink-300/60 text-xs sm:text-sm">
          Made with <span class="heart-beat text-red-500">‚ù§Ô∏è</span> by <span class="font-semibold text-pink-200 creator-name-footer">Ankit Kumar</span>
        </p>
      </div>
    </div>

    <!-- PAGE 3: SUCCESS -->
    <div id="page3" class="page">
      <div id="confettiContainer"></div>
      <div class="content-wrapper px-4 sm:px-6">
        <div class="success-container">
          <div class="heart-pulse text-7xl sm:text-8xl mb-4 sm:mb-6">üíñ</div>
          
          <h1 id="thankYouMessage" class="elegant-font text-4xl sm:text-5xl md:text-6xl gradient-text mb-3 sm:mb-4">
            You Made Me Happy!
          </h1>

          <p class="script-font text-2xl sm:text-3xl text-pink-200 mb-6 sm:mb-8">
            You just made me the luckiest person alive ü•∞
          </p>

          <!-- Animated hearts -->
          <div class="flex justify-center gap-3 sm:gap-4 mb-6 sm:mb-8 flex-wrap">
            <span class="text-4xl sm:text-5xl animate-bounce" style="animation-delay: 0s;">üíï</span>
            <span class="text-4xl sm:text-5xl animate-bounce" style="animation-delay: 0.1s;">üíó</span>
            <span class="text-4xl sm:text-5xl animate-bounce" style="animation-delay: 0.2s;">üíñ</span>
            <span class="text-4xl sm:text-5xl animate-bounce" style="animation-delay: 0.3s;">üíù</span>
            <span class="text-4xl sm:text-5xl animate-bounce" style="animation-delay: 0.4s;">üíò</span>
          </div>

          <!-- Love message -->
          <div class="love-message-box max-w-md sm:max-w-lg mb-6 sm:mb-8">
            <p class="text-pink-100 text-base sm:text-lg leading-relaxed">
              Every love story is beautiful, but ours will be my favorite forever. 
              <br/>
              <span class="text-3xl sm:text-4xl mt-3 block">üë´üíëüë´</span>
            </p>
          </div>

          <!-- Orbiting hearts -->
          <div class="heart-orbit">
            <div class="orbit-heart">üíï</div>
            <div class="orbit-heart">üíñ</div>
            <div class="orbit-heart">üíó</div>
            <div class="orbit-heart">üíù</div>
          </div>

          <p class="text-pink-300/70 text-sm sm:text-base mt-8 italic">
            Forever starts today... üåπ‚ú®
          </p>
        </div>
      </div>

      <!-- Footer -->
      <div class="footer-text">
        <p class="text-pink-300/60 text-xs sm:text-sm">
          Made with <span class="heart-beat text-red-500">‚ù§Ô∏è</span> by <span class="font-semibold text-pink-200 creator-name-footer">Ankit Kumar</span>
        </p>
      </div>
    </div>
  </div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
const nameFromUrl = urlParams.get('name'); 
const greeting = document.getElementById('greeting');
const userNameInput = document.getElementById('userNameInput');

if (nameFromUrl) {
    userNameInput.value = nameFromUrl;
    if(greeting) greeting.innerHTML = `Happy Rose Day, ${nameFromUrl}! üåπ`;
}
    const defaultConfig = {
      main_title: "Will You Be Mine?",
      subtitle_text: "Happy Rose Day üåπ",
      thank_you_message: "You Made Me Happy!",
      creator_name: "Ankit Kumar",
      background_color: "#0F0A2E",
      text_color: "#fce7f3",
      accent_color: "#FF1744",
      button_color: "#dc2626",
      surface_color: "#ffffff"
    };

    let config = { ...defaultConfig };
    let noButtonEscapeCount = 0;

    // Create starfield
    function createStarfield() {
      const container = document.getElementById('starsContainer');
      const starCount = Math.min(50, Math.floor(window.innerWidth / 10));

      for (let i = 0; i < starCount; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 3 + 's';
        star.style.animationDuration = (Math.random() * 2 + 2) + 's';
        container.appendChild(star);
      }

      // Add floating particles
      for (let i = 0; i < 15; i++) {
        const particle = document.createElement('div');
        particle.className = 'floating-particle';
        particle.textContent = ['‚ú®', 'üíï', 'üåü', 'üí´'][Math.floor(Math.random() * 4)];
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 50 + '%';
        particle.style.animationDuration = (Math.random() * 15 + 20) + 's';
        particle.style.animationDelay = Math.random() * 5 + 's';
        particle.style.fontSize = (Math.random() * 20 + 15) + 'px';
        container.appendChild(particle);
      }
    }

    // Create confetti
    function createConfetti() {
      const container = document.getElementById('confettiContainer');
      const emojis = ['‚ù§Ô∏è', 'üíñ', 'üíï', 'üåπ', '‚ú®', 'üíù', 'üíò', 'üéâ'];

      for (let i = 0; i < 60; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        const emoji = emojis[Math.floor(Math.random() * emojis.length)];
        confetti.innerHTML = `<div class="confetti-piece" style="animation-delay: ${Math.random() * 1}s">${emoji}</div>`;
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.top = '-20px';
        container.appendChild(confetti);
      }
    }

    // Page navigation
    function showPage(pageNum) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById('page' + pageNum).classList.add('active');

      if (pageNum === 3) {
        setTimeout(createConfetti, 100);
        submitToFormspree('yes');
      }
    }

    // No button escape logic
    function setupNoButton() {
      const noBtn = document.getElementById('noBtn');
      const buttonMessages = [
        "Not Sure Yet",
        "Think Again! üí≠",
        "You Know It! üòè",
        "Just Say Yes! üíï",
        "Come On... ü•∫",
        "I'm Running Away! üèÉ"
      ];

      function moveNoButton() {
        const container = noBtn.parentElement;
        const containerRect = container.getBoundingClientRect();
        
        const maxX = Math.max(0, containerRect.width - 140);
        const maxY = Math.max(0, containerRect.height - 60);

        let newX = Math.random() * maxX;
        let newY = Math.random() * maxY;

        // Ensure button doesn't hide behind Yes button
        const yesBtn = document.getElementById('yesBtn');
        if (yesBtn) {
          const yesBtnRect = yesBtn.getBoundingClientRect();
          const yesBtnLeft = yesBtnRect.left - containerRect.left;
          const yesBtnTop = yesBtnRect.top - containerRect.top;

          // If new position overlaps with yes button, adjust it
          if (
            newX < yesBtnLeft + yesBtnRect.width + 80 &&
            newX + 140 > yesBtnLeft &&
            newY < yesBtnTop + yesBtnRect.height + 60 &&
            newY + 60 > yesBtnTop
          ) {
            if (newX < maxX / 2) {
              newX = Math.max(yesBtnLeft + yesBtnRect.width + 30, newX);
            } else {
              newX = Math.min(yesBtnLeft - 160, newX);
            }

            if (newY < maxY / 2) {
              newY = Math.max(yesBtnTop + yesBtnRect.height + 30, newY);
            } else {
              newY = Math.min(yesBtnTop - 90, newY);
            }
          }
        }

        newX = Math.max(0, Math.min(newX, maxX));
        newY = Math.max(0, Math.min(newY, maxY));

        noBtn.style.left = newX + 'px';
        noBtn.style.top = newY + 'px';

        // Update text occasionally
        if (noButtonEscapeCount % 2 === 0 && noButtonEscapeCount > 0) {
          noBtn.textContent = buttonMessages[Math.min(noButtonEscapeCount, buttonMessages.length - 1)];
        }

        noButtonEscapeCount++;
      }

      noBtn.addEventListener('mouseenter', moveNoButton);
      noBtn.addEventListener('touchstart', (e) => {
        e.preventDefault();
        moveNoButton();
      });

      noBtn.addEventListener('click', (e) => {
        e.preventDefault();
        moveNoButton();
      });
    }

    // Form submission
    async function submitToFormspree(response) {
      const formspreeEndpoint = 'https://formspree.io/f/YOUR_FORM_ID';

      try {
        await fetch(formspreeEndpoint, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            response: response,
            timestamp: new Date().toISOString(),
            message: response === 'yes' ? 'üíñ They said YES!' : 'üíî They said no'
          })
        });
      } catch (error) {
        console.error('Form submission error:', error);
      }
    }

    // Update UI
    async function onConfigChange(newConfig) {
      config = { ...defaultConfig, ...newConfig };

      document.getElementById('mainTitle').textContent = config.main_title || defaultConfig.main_title;
      document.getElementById('subtitleText').textContent = config.subtitle_text || defaultConfig.subtitle_text;
      document.getElementById('thankYouMessage').textContent = config.thank_you_message || defaultConfig.thank_you_message;
      document.getElementById('creatorName').textContent = config.creator_name || defaultConfig.creator_name;

      document.querySelectorAll('.creator-name-footer').forEach(el => {
        el.textContent = config.creator_name || defaultConfig.creator_name;
      });

      const app = document.getElementById('app');
      if (app) {
        app.style.background = `linear-gradient(135deg, ${config.background_color} 0%, ${adjustColor(config.background_color, 20)} 25%, ${adjustColor(config.background_color, -10)} 50%, ${adjustColor(config.background_color, 30)} 75%, ${adjustColor(config.background_color, -5)} 100%)`;
        app.style.backgroundSize = '400% 400%';
      }
    }

    function adjustColor(color, amount) {
      const hex = color.replace('#', '');
      const r = Math.min(255, Math.max(0, parseInt(hex.substr(0, 2), 16) + amount));
      const g = Math.min(255, Math.max(0, parseInt(hex.substr(2, 2), 16) + amount));
      const b = Math.min(255, Math.max(0, parseInt(hex.substr(4, 2), 16) + amount));
      return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;
    }

    function mapToCapabilities(cfg) {
      return {
        recolorables: [
          {
            get: () => cfg.background_color || defaultConfig.background_color,
            set: (value) => {
              cfg.background_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ background_color: value });
            }
          },
          {
            get: () => cfg.accent_color || defaultConfig.accent_color,
            set: (value) => {
              cfg.accent_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ accent_color: value });
            }
          },
          {
            get: () => cfg.text_color || defaultConfig.text_color,
            set: (value) => {
              cfg.text_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ text_color: value });
            }
          },
          {
            get: () => cfg.button_color || defaultConfig.button_color,
            set: (value) => {
              cfg.button_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ button_color: value });
            }
          },
          {
            get: () => cfg.surface_color || defaultConfig.surface_color,
            set: (value) => {
              cfg.surface_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ surface_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(cfg) {
      return new Map([
        ['main_title', cfg.main_title || defaultConfig.main_title],
        ['subtitle_text', cfg.subtitle_text || defaultConfig.subtitle_text],
        ['thank_you_message', cfg.thank_you_message || defaultConfig.thank_you_message],
        ['creator_name', cfg.creator_name || defaultConfig.creator_name]
      ]);
    }

    // Initialize
    function init() {
      // Check if mobile and show popup
      const isMobile = window.innerWidth < 768;
      if (isMobile) {
        document.getElementById('mobilePopup').classList.remove('hidden');
      }

      // Continue anyway button
      document.getElementById('continueAnyway').addEventListener('click', () => {
        document.getElementById('mobilePopup').classList.add('hidden');
      });

      createStarfield();

      document.getElementById('nextBtn').addEventListener('click', () => showPage(2));
      document.getElementById('yesBtn').addEventListener('click', () => showPage(3));

      setupNoButton();

      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities,
          mapToEditPanelValues
        });
      }

      onConfigChange(config);
    }

    init();
  </script>
</body>
</html>

